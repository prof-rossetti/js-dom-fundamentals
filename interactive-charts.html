<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Interactive Charts and Graphs | JavaScript DOM Fundamentals</title>
    <script src="http://code.highcharts.com/highcharts.js"></script>
  </head>
  <body>
    <h1><a href="index.html">JavaScript DOM Fundamentals</a></h1>

    <nav>
      <ul>
        <li><a href="page-loading.html">Page-loading Considerations</a></li>
        <li><a href="selections.html">Selections</a></li>
        <li><a href="event-listening.html">Event-listening</a></li>
        <li><a href="dom-manipulation.html">DOM Manipulation</a></li>
        <li><a href="data-driven-docs.html">Data-driven Documents</a></li>
        <li><a href="changing-datasets.html">Changing Datasets</a></li>
        <li><a href="interactive-charts.html">Interactive Charts and Graphs</a></li>
        <li><a href="interactive-maps.html">Interactive Maps</a></li>
      </ul>
    </nav>

    <h2>Interactive Charts and Graphs</h2>

    <div id="instructions">
      <h3>Objectives</h3>
      <p class="lead">This exercise leverages the <a href="http://www.highcharts.com/">Highcharts</a> library to create interactive charts and graphs.</p>
      <ol>
        <li>Browse the <a href="http://www.highcharts.com/demo">types of charts available</a>, and choose one that looks interesting to you. Then click on it to reveal an example. For example, you might choose a <a href="http://www.highcharts.com/demo/pie-basic">basic pie chart</a>. Scroll down and click the "View Options" button to reveal the source code producing the example chart. Copy and paste that code into the script at the bottom of this document, then refresh the page and see if you can get it to display on the page.</li>
        <li>Once you see the chart, save your work, then start to make minor edits to the configuration options. Configure the graph's title, series colors, series labels, axis labels, number formatting, etc. Optionally change the data series to display different data values.</li>
        <li>Optionally: abstract-away the data series from within the chart configuration options to a variable outside of the chart initialization function; create another dataset that mimics the structure of this dataset, but differs in values; store that in a different variable; and configure the <code>select#year-selector</code> element such that when selected, it changes the contents of the chart by switching the underlying dataset.</li>
      </ol>
    </div>

    <hr id="divider">

    <select id="year-selector">
      <option value="2015" selected=true>2015</option>
      <option value="2016">2016</option>
    </select>

    <div id="my-chart-container" style="width:100%; height:400px;"></div>

    <hr>
    <footer>
      <p>
        <a href="https://prof-rossetti.github.io/js-dom-fundamentals/">view</a> |
        <a href="https://github.com/prof-rossetti/js-dom-fundamentals">source</a>
      </p>
    </footer>

    <script type="text/javascript">

      var browserShareByYear = {
        "2015": [
          {name: 'Microsoft Internet Explorer', y: 56.33},
          {name: 'Chrome', y: 24.03},
          {name: 'Firefox',y: 10.38},
          {name: 'Safari', y: 4.77},
          {name: 'Opera', y: 0.91},
          {name: 'Proprietary or Undetectable', y: 0.2}
        ],
        "2016": [
          {name: 'Microsoft Internet Explorer', y: 100},
          {name: 'Chrome', y: 25},
          {name: 'Firefox',y: 31},
          {name: 'Safari', y: 8},
          {name: 'Opera', y: 80},
          {name: 'Proprietary or Undetectable', y: 3}
        ]
      }

      //
      // LISTEN FOR SELECTIONS
      //

      /*
      var yearSelector = document.getElementById('year-selector')

      function selectYear() {
        console.log("SELECTED YEAR:", yearSelector.value)
        makeMyChart()
        // we could pass the year into the makeMyChart() function, like makeMyChart(yearSelector.value)
        // ... but we will instead just invoke the function witout passing a parameter...
        // ... and we will get the currently selected year from within the makeMyChart() function
        // ... we could do it either way.
      }

      yearSelector.addEventListener("change", selectYear, false)

      */

      //
      // MAKE A CHART HERE
      //

      /*
      function makeMyChart() {
        var selectedYear = yearSelector.value

        var chartConfigurationOptions = {
          chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false,
            type: 'pie'
          },
          title: {
            text: 'Browser market shares for ' + selectedYear + " (fake data)" // concatenating strings here
          },
          tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
          },
          plotOptions: {
            pie: {
              allowPointSelect: true,
              cursor: 'pointer',
              dataLabels: {
                enabled: true,
                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                style: {
                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                }
              }
            }
          },
          series: [
            {
              name: 'Brands',
              colorByPoint: true,
              data: browserShareByYear[selectedYear]
           }
         ]
        }

        Highcharts.chart('my-chart-container', chartConfigurationOptions);
      }

      makeMyChart()

      */

    </script>
  </body>
</html>
